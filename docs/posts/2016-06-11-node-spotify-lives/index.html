<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> node-spotify, it lives! | FrontierPsychiatrist</title>
  
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="node-spotify, it lives!" />
<meta property="og:description" content="It lives Finally, over 6 month after the issue has been reported on github, node-spotify compiles again on &ldquo;recent&rdquo; versions of NodeJS. The last working version was 0.12, but since two weeks ago it supports 0.10, 0.12, 4.x, 5.x and 6.x. This is thanks to an update of the Nan library. Sadly a major upgrade was needed that breaks a lot of usages itself, just to fix V8 compatibly.
But wait there&rsquo;s more!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://frontierpsychiatrist.de/posts/2016-06-11-node-spotify-lives/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-06-11T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2016-06-11T00:00:00&#43;00:00" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="node-spotify, it lives!"/>
<meta name="twitter:description" content="It lives Finally, over 6 month after the issue has been reported on github, node-spotify compiles again on &ldquo;recent&rdquo; versions of NodeJS. The last working version was 0.12, but since two weeks ago it supports 0.10, 0.12, 4.x, 5.x and 6.x. This is thanks to an update of the Nan library. Sadly a major upgrade was needed that breaks a lot of usages itself, just to fix V8 compatibly.
But wait there&rsquo;s more!"/>

  
  
  
  <link rel="stylesheet" href="https://frontierpsychiatrist.de/css/style-white.css">
  
   <link rel="stylesheet" href="https://frontierpsychiatrist.de/css/custom.css"> 
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://frontierpsychiatrist.de/images/favicon.ico" />

  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Blog</a></li>
         
        <li><a href="/music">Music</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" https://frontierpsychiatrist.de/posts/2016-05-02-migrating-to-jekyll/">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="https://frontierpsychiatrist.de/posts/2017-04-26-no-more-node-spotify/">
            <i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i>
          </a>
        </li>
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2ffrontierpsychiatrist.de%2fposts%2f2016-06-11-node-spotify-lives%2f">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2ffrontierpsychiatrist.de%2fposts%2f2016-06-11-node-spotify-lives%2f&text=node-spotify%2c%20it%20lives%21">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2ffrontierpsychiatrist.de%2fposts%2f2016-06-11-node-spotify-lives%2f&title=node-spotify%2c%20it%20lives%21">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2ffrontierpsychiatrist.de%2fposts%2f2016-06-11-node-spotify-lives%2f&is_video=false&description=node-spotify%2c%20it%20lives%21">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=node-spotify%2c%20it%20lives%21&body=Check out this article: https%3a%2f%2ffrontierpsychiatrist.de%2fposts%2f2016-06-11-node-spotify-lives%2f">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2ffrontierpsychiatrist.de%2fposts%2f2016-06-11-node-spotify-lives%2f&title=node-spotify%2c%20it%20lives%21">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2ffrontierpsychiatrist.de%2fposts%2f2016-06-11-node-spotify-lives%2f&title=node-spotify%2c%20it%20lives%21">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2ffrontierpsychiatrist.de%2fposts%2f2016-06-11-node-spotify-lives%2f&title=node-spotify%2c%20it%20lives%21">
      <i class="fab fa-stumbleupon " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://digg.com/submit?url=https%3a%2f%2ffrontierpsychiatrist.de%2fposts%2f2016-06-11-node-spotify-lives%2f&title=node-spotify%2c%20it%20lives%21">
      <i class="fab fa-digg " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2ffrontierpsychiatrist.de%2fposts%2f2016-06-11-node-spotify-lives%2f&name=node-spotify%2c%20it%20lives%21&description=It%20lives%20Finally%2c%20over%206%20month%20after%20the%20issue%20has%20been%20reported%20on%20github%2c%20node-spotify%20compiles%20again%20on%20%26ldquo%3brecent%26rdquo%3b%20versions%20of%20NodeJS.%20The%20last%20working%20version%20was%200.12%2c%20but%20since%20two%20weeks%20ago%20it%20supports%200.10%2c%200.12%2c%204.x%2c%205.x%20and%206.x.%20This%20is%20thanks%20to%20an%20update%20of%20the%20Nan%20library.%20Sadly%20a%20major%20upgrade%20was%20needed%20that%20breaks%20a%20lot%20of%20usages%20itself%2c%20just%20to%20fix%20V8%20compatibly.%0aBut%20wait%20there%26rsquo%3bs%20more%21">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2ffrontierpsychiatrist.de%2fposts%2f2016-06-11-node-spotify-lives%2f&t=node-spotify%2c%20it%20lives%21">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    <div id="toc">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#it-lives">It lives</a></li>
    <li><a href="#but-wait-theres-more">But wait there&rsquo;s more!</a></li>
    <li><a href="#one-more-bonus">One more bonus</a></li>
    <li><a href="#thoughts">Thoughts</a></li>
  </ul>
</nav>
    </div>
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        node-spotify, it lives!
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2016-06-11 00:00:00 &#43;0000 UTC" itemprop="datePublished">2016-06-11</time>
          
        </div>
        
        
      </div>
    </header>

    <div class="content" itemprop="articleBody">
      <h2 id="it-lives">It lives</h2>
<p>Finally, over 6 month after <a href="https://github.com/FrontierPsychiatrist/node-spotify/issues/97">the issue</a>
has been reported on github, node-spotify compiles again on &ldquo;recent&rdquo; versions of NodeJS.
The last working version was 0.12, but since two weeks ago it supports 0.10, 0.12, 4.x, 5.x and 6.x.
This is thanks to an update of the <a href="https://github.com/nodejs/nan">Nan</a> library. Sadly a major
upgrade was needed that breaks a lot of usages itself, just to fix V8 compatibly.</p>
<h2 id="but-wait-theres-more">But wait there&rsquo;s more!</h2>
<p>Today I additionally finally got around to use <a href="https://github.com/mapbox/node-pre-gyp">node-pre-gyp</a>
to distribute binary releases of node-spotify. Before I uploaded the <code>.node</code> files manually
to the website <a href="http://node-spotify.com">node-spotify.com</a>, but that was a tedious process both
for users and me.</p>
<p>Now the binary distribution is transparent for the user. A normal <code>npm install</code> will try to download the
binaries for the architecture, platform and NodeJS ABI from S3 and if they are not present compile
from source. I just have to add a step to publish to S3 after publishing to NPM. Hooray!</p>
<h2 id="one-more-bonus">One more bonus</h2>
<p>Oh, I&rsquo;m not stopping. Additionally to again-compiling code and easier binary distribution, node-spotify
is now built <a href="https://travis-ci.org/FrontierPsychiatrist/node-spotify">on Travis</a>.</p>
<p>This means I can see compile errors for different version of NodeJS (I enabled 0.10, 0.12, 4, 5, 6)
automatically and fast!</p>
<p>Because tests for node-spotify are a bit tricky (an appkey file and a premium login to Spotify are needed,
apart from the integration tests there is not much to test) - there are none that run automatically.
While as a professional software developer I would like to never do this, right now I don&rsquo;t see a good setup.</p>
<p>Anyway, this is totally awesome!</p>
<h2 id="thoughts">Thoughts</h2>
<p>I finally got around to fix and improve node-spotify (despite the un-motivating deprecation of libspotify).
I&rsquo;m super happy and excited about this, it just feels good. Maybe I can also start working on new features
(there are two open PRs with minor addtions).</p>
<p>Apart from that, even as a non-soccer fan it is time to enjoy the games in the next few weeks. Doom and Dark
Souls 3 also still await completion.</p>

    </div>
  </article>

  
  





  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/posts">Blog</a></li>
         
          <li><a href="/music">Music</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#it-lives">It lives</a></li>
    <li><a href="#but-wait-theres-more">But wait there&rsquo;s more!</a></li>
    <li><a href="#one-more-bonus">One more bonus</a></li>
    <li><a href="#thoughts">Thoughts</a></li>
  </ul>
</nav>
    </div>

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2ffrontierpsychiatrist.de%2fposts%2f2016-06-11-node-spotify-lives%2f">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2ffrontierpsychiatrist.de%2fposts%2f2016-06-11-node-spotify-lives%2f&text=node-spotify%2c%20it%20lives%21">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2ffrontierpsychiatrist.de%2fposts%2f2016-06-11-node-spotify-lives%2f&title=node-spotify%2c%20it%20lives%21">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2ffrontierpsychiatrist.de%2fposts%2f2016-06-11-node-spotify-lives%2f&is_video=false&description=node-spotify%2c%20it%20lives%21">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=node-spotify%2c%20it%20lives%21&body=Check out this article: https%3a%2f%2ffrontierpsychiatrist.de%2fposts%2f2016-06-11-node-spotify-lives%2f">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2ffrontierpsychiatrist.de%2fposts%2f2016-06-11-node-spotify-lives%2f&title=node-spotify%2c%20it%20lives%21">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2ffrontierpsychiatrist.de%2fposts%2f2016-06-11-node-spotify-lives%2f&title=node-spotify%2c%20it%20lives%21">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2ffrontierpsychiatrist.de%2fposts%2f2016-06-11-node-spotify-lives%2f&title=node-spotify%2c%20it%20lives%21">
      <i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://digg.com/submit?url=https%3a%2f%2ffrontierpsychiatrist.de%2fposts%2f2016-06-11-node-spotify-lives%2f&title=node-spotify%2c%20it%20lives%21">
      <i class="fab fa-digg fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2ffrontierpsychiatrist.de%2fposts%2f2016-06-11-node-spotify-lives%2f&name=node-spotify%2c%20it%20lives%21&description=It%20lives%20Finally%2c%20over%206%20month%20after%20the%20issue%20has%20been%20reported%20on%20github%2c%20node-spotify%20compiles%20again%20on%20%26ldquo%3brecent%26rdquo%3b%20versions%20of%20NodeJS.%20The%20last%20working%20version%20was%200.12%2c%20but%20since%20two%20weeks%20ago%20it%20supports%200.10%2c%200.12%2c%204.x%2c%205.x%20and%206.x.%20This%20is%20thanks%20to%20an%20update%20of%20the%20Nan%20library.%20Sadly%20a%20major%20upgrade%20was%20needed%20that%20breaks%20a%20lot%20of%20usages%20itself%2c%20just%20to%20fix%20V8%20compatibly.%0aBut%20wait%20there%26rsquo%3bs%20more%21">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2ffrontierpsychiatrist.de%2fposts%2f2016-06-11-node-spotify-lives%2f&t=node-spotify%2c%20it%20lives%21">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2021  FrontierPsychiatrist 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Blog</a></li>
         
        <li><a href="/music">Music</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>



</html>
